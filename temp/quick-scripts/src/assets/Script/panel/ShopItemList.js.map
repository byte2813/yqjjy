{"version":3,"sources":["assets\\Script\\panel\\ShopItemList.js"],"names":["GameConfig","require","GameTools","GameUiTools","cc","Class","Component","properties","persion","type","Node","displayName","level","perName","Label","coinNode","moneytbtn","unlock","Sprite","moneyLabel","unpersion","number","initItem","console","log","showItemList","coinButtonFunc","main","buyCoinFunc","getChildByName","getComponent","string","getNumberString","buyCoinUpgrade","showNumber","setSpriteFrame","GamePersonMaxLevel","color","Color","WHITE","node","active","buyGoldUpgrade","setButtonClickEvents","BLACK","buyButtonFunc","bugGoldFunc"],"mappings":"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","sourceRoot":"/","sourcesContent":["var GameConfig = require(\"GameConfig\");\nvar GameTools = require(\"GameTools\");\nvar GameUiTools = require(\"GameUiTools\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        persion:{\n            default:null,\n            type:cc.Node,\n            displayName:\"人物\"\n        },\n        level:{\n            default:null,\n            type:cc.Node,\n            displayName:\"人物等级\"\n        },\n        perName:{\n            default:null,\n            type:cc.Label,\n            displayName:\"角色名\"\n        },\n        coinNode:{\n            default:null,\n            type:cc.Node,\n            displayName:\"元宝\"\n        },\n        moneytbtn:{\n            default:null,\n            type:cc.Node,\n            displayName:\"金钱购买按钮\"\n        },\n        unlock:{\n            default:null,\n            type:cc.Sprite,\n            displayName:\"解锁\"\n        },\n        moneyLabel:{\n            default:null,\n            type:cc.Label,\n            displayName:\"金钱\"\n        },\n        unpersion:{\n            default:null,\n            type:cc.Node,\n            displayName:\"解锁的小人\"\n        },\n        number:1,\n\n    },\n    initItem(number){\n        console.log(this)\n        this.number = number;\n        this.showItemList();\n    },\n    coinButtonFunc(){\n        if(GameConfig.main.buyCoinFunc(this.number)){\n            console.log(\"元宝成功购买\");\n            this.coinNode.getChildByName(\"Numcoin\").getComponent(cc.Label).string = GameTools.getNumberString(GameConfig.buyCoinUpgrade[this.number]);\n        }\n    },\n    showItemList(){\n        this.level.getComponent('Number').showNumber(this.number);\n        GameUiTools.setSpriteFrame(\"persion/LV\"+this.number,this.persion.getComponent(cc.Sprite));\n        if(this.number <= GameConfig.GamePersonMaxLevel){\n            this.persion.color = cc.Color.WHITE;\n            this.perName.string = GameConfig.perName[this.number-1];\n            if(this.number == 1 || this.number <= (GameConfig.GamePersonMaxLevel -4)){\n                GameUiTools.setSpriteFrame(\"shop/qb\",this.unlock);\n                this.moneyLabel.node.active = true;\n                this.moneyLabel.string = GameTools.getNumberString(GameConfig.buyGoldUpgrade[this.number]);\n                GameUiTools.setButtonClickEvents(this, this.moneytbtn, \"buyButtonFunc\");\n            }else{\n                this.unpersion.active = true;\n                if(this.number <= (GameConfig.GamePersonMaxLevel -2)){\n                    this.coinNode.active = true;\n                    this.coinNode.getChildByName(\"Numcoin\").getComponent(cc.Label).string = GameTools.getNumberString(GameConfig.buyCoinUpgrade[this.number]);\n                    //显示元宝的购买价格\n                    GameUiTools.setButtonClickEvents(this, this.coinNode, \"coinButtonFunc\");\n                }\n            }\n        }else{\n            this.persion.color = cc.Color.BLACK;\n            this.perName.string = \"??\";\n            this.unpersion.active = true;\n        }\n    },\n    buyButtonFunc(){\n        if(GameConfig.main.bugGoldFunc(this.number)){\n            console.log(\"购买成功\");\n            this.moneyLabel.string = GameTools.getNumberString(GameConfig.buyGoldUpgrade[this.number]);\n        }\n    },\n\n\n});\n"]}