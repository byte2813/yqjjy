{"version":3,"sources":["assets\\Script\\panel\\LixianPanel.js"],"names":["GameConfig","require","GameUiTools","GameTools","cc","Class","Component","properties","moneylabel","type","Label","displayName","num","start","onLoad","speed","main","getMoneySpeed","nowTime","Date","getTime","lastGameTime","getItemByLocalStorage","offLineTime","Math","floor","string","closeClick","node","destroy","setGameMoney","doubletakeClick","playSimpleAudioEngine","self","_createVedioAd","res","isEnded","raw","GameMoney","takeClick"],"mappings":";;;;;;AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,YAAY,CAAC;AACtC,IAAIC,WAAW,GAAGD,OAAO,CAAC,aAAa,CAAC;AACxC,IAAIE,SAAS,GAAGF,OAAO,CAAC,WAAW,CAAC;AACpCG,EAAE,CAACC,KAAK,CAAC;EACL,WAASD,EAAE,CAACE,SAAS;EAErBC,UAAU,EAAE;IACRC,UAAU,EAAC;MACP,WAAQ,IAAI;MACZC,IAAI,EAACL,EAAE,CAACM,KAAK;MACbC,WAAW,EAAC;IAChB,CAAC;IACDC,GAAG,EAAC;EACR,CAAC;EACDC,KAAK,WAAAA,MAAA,EAAI,CAAC,CAAC;EACXC,MAAM,WAAAA,OAAA,EAAI;IACN,IAAI,CAACC,KAAK,GAAGf,UAAU,CAACgB,IAAI,CAACC,aAAa,EAAE;IAC5C,IAAIC,OAAO,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE;IAClC,IAAIC,YAAY,GAAGlB,SAAS,CAACmB,qBAAqB,CAAC,UAAU,EAAC,CAAC,CAAC;IAChE,IAAIC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAAC,CAACP,OAAO,GAAGG,YAAY,IAAE,IAAI,CAAC;IAE3D,IAAGE,WAAW,IAAI,IAAI,GAAC,EAAE,GAAC,EAAE,EAAC;MACzB,IAAI,CAACX,GAAG,GAAGY,IAAI,CAACC,KAAK,CAAC,IAAI,CAACV,KAAK,GAAGQ,WAAW,CAAC;IACnD,CAAC,MAAK,IAAGA,WAAW,IAAI,IAAI,GAAC,EAAE,GAAC,EAAE,GAAC,CAAC,EAAC;MACjC,IAAI,CAACX,GAAG,GAAGY,IAAI,CAACC,KAAK,CAAC,IAAI,CAACV,KAAK,GAAGQ,WAAW,GAAG,GAAG,CAAC;IACzD,CAAC,MAAI;MACD,IAAI,CAACX,GAAG,GAAGY,IAAI,CAACC,KAAK,CAAC,IAAI,CAACV,KAAK,GAAGQ,WAAW,GAAG,GAAG,CAAC;IACzD;IACA,IAAI,CAACf,UAAU,CAACkB,MAAM,GAAG,IAAI,CAACd,GAAG,GAAC,IAAI;EAC1C,CAAC;EAEDe,UAAU,WAAAA,WAAA,EAAE;IACR,IAAI,CAACC,IAAI,CAACC,OAAO,EAAE;IACnB7B,UAAU,CAACgB,IAAI,CAACc,YAAY,EAAE;EAClC,CAAC;EAEDC,eAAe,WAAAA,gBAAA,EAAE;IACb5B,SAAS,CAAC6B,qBAAqB,CAAC,CAAC,CAAC;IAClC,IAAIC,IAAI,GAAG,IAAI;IACf9B,SAAS,CAAC+B,cAAc,CAAC,UAAUC,GAAG,EAAE;MACpC,IAAIA,GAAG,CAACC,OAAO,IAAID,GAAG,CAACE,GAAG,EAAE;QACxBrC,UAAU,CAACsC,SAAS,IAAIL,IAAI,CAACrB,GAAG,GAAC,CAAC;QAClCqB,IAAI,CAACN,UAAU,EAAE;MACrB;IACJ,CAAC,CAAC;EACN,CAAC;EAEDY,SAAS,WAAAA,UAAA,EAAE;IACPpC,SAAS,CAAC6B,qBAAqB,CAAC,CAAC,CAAC;IAClChC,UAAU,CAACsC,SAAS,IAAI,IAAI,CAAC1B,GAAG;IAChC,IAAI,CAACe,UAAU,EAAE;EACrB,CAAC,CACD;AACJ,CAAC,CAAC","sourceRoot":"/","sourcesContent":["var GameConfig = require(\"GameConfig\");\nvar GameUiTools = require(\"GameUiTools\");\nvar GameTools = require(\"GameTools\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        moneylabel:{\n            default:null,\n            type:cc.Label,\n            displayName:\"金钱数\"\n        },\n        num:0,\n    },\n    start () {},\n    onLoad () {\n        this.speed = GameConfig.main.getMoneySpeed();\n        let nowTime = new Date().getTime();\n        let lastGameTime = GameTools.getItemByLocalStorage(\"lastTime\",0);\n        let offLineTime = Math.floor((nowTime - lastGameTime)/6000);\n        \n        if(offLineTime <= 1000*60*30){\n            this.num = Math.floor(this.speed * offLineTime);\n        }else if(offLineTime <= 1000*60*60*2){\n            this.num = Math.floor(this.speed * offLineTime * 0.5);\n        }else{\n            this.num = Math.floor(this.speed * offLineTime * 0.3);\n        }\n        this.moneylabel.string = this.num+\"铜钱\";\n    },\n\n    closeClick(){\n        this.node.destroy();\n        GameConfig.main.setGameMoney();\n    },\n\n    doubletakeClick(){\n        GameTools.playSimpleAudioEngine(3);\n        let self = this;\n        GameTools._createVedioAd(function (res) {\n            if (res.isEnded || res.raw) {\n                GameConfig.GameMoney += self.num*3;\n                self.closeClick();\n            }\n        });\n    },\n\n    takeClick(){\n        GameTools.playSimpleAudioEngine(3);\n        GameConfig.GameMoney += this.num;\n        this.closeClick();\n    },\n    // update (dt) {},\n});\n"]}