{"version":3,"sources":["assets\\Script\\panel\\NewPersion.js"],"names":["GameConfig","require","GameTools","GameUiTools","cc","Class","Component","properties","colsebtn","type","Node","displayName","clickbtn","persion","Sprite","persionName","Label","tip","start","setButtonClickEvents","onLoad","setSpriteFrame","GamePersonMaxLevel","string","perName","IS_GAME_SHARE","active","shareSuccess","GameMoney","buyGoldUpgrade","main","setGameMoney","colsePanel","showToast","btnFunc","event","playSimpleAudioEngine","button","target","shareComponent","sharePicture","shareTime","Date","getTime","node","destroy"],"mappings":";;;;;;AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,YAAY,CAAC;AACtC,IAAIC,SAAS,GAAGD,OAAO,CAAC,WAAW,CAAC;AACpC,IAAIE,WAAW,GAAGF,OAAO,CAAC,aAAa,CAAC;AAExCG,EAAE,CAACC,KAAK,CAAC;EACL,WAASD,EAAE,CAACE,SAAS;EAErBC,UAAU,EAAE;IACRC,QAAQ,EAAC;MACL,WAAQ,IAAI;MACZC,IAAI,EAACL,EAAE,CAACM,IAAI;MACZC,WAAW,EAAC;IAChB,CAAC;IACDC,QAAQ,EAAC;MACL,WAAQ,IAAI;MACZH,IAAI,EAACL,EAAE,CAACM,IAAI;MACZC,WAAW,EAAC;IAChB,CAAC;IACDE,OAAO,EAAC;MACJ,WAAQ,IAAI;MACZJ,IAAI,EAACL,EAAE,CAACU,MAAM;MACdH,WAAW,EAAC;IAChB,CAAC;IACDI,WAAW,EAAC;MACR,WAAQ,IAAI;MACZN,IAAI,EAACL,EAAE,CAACY,KAAK;MACbL,WAAW,EAAC;IAChB,CAAC;IACDM,GAAG,EAAC;MACA,WAAQ,IAAI;MACZR,IAAI,EAACL,EAAE,CAACM,IAAI;MACZC,WAAW,EAAC;IAChB;EAEJ,CAAC;EAEDO,KAAK,WAAAA,MAAA,EAAI;IACLf,WAAW,CAACgB,oBAAoB,CAAC,IAAI,EAAE,IAAI,CAACX,QAAQ,EAAE,SAAS,CAAC;IAChEL,WAAW,CAACgB,oBAAoB,CAAC,IAAI,EAAE,IAAI,CAACP,QAAQ,EAAE,SAAS,CAAC;EACpE,CAAC;EACDQ,MAAM,WAAAA,OAAA,EAAI;IACNjB,WAAW,CAACkB,cAAc,CAAC,YAAY,GAAGrB,UAAU,CAACsB,kBAAkB,EAAE,IAAI,CAACT,OAAO,CAAC;IACtF,IAAI,CAACE,WAAW,CAACQ,MAAM,GAAGvB,UAAU,CAACwB,OAAO,CAACxB,UAAU,CAACsB,kBAAkB,GAAC,CAAC,CAAC;IAC7E,IAAG,CAACtB,UAAU,CAACyB,aAAa,EAAC;MACzB,IAAI,CAACR,GAAG,CAACS,MAAM,GAAG,KAAK;IAC3B;EACJ,CAAC;EAEDC,YAAY,WAAAA,aAAA,EAAE;IACV3B,UAAU,CAAC4B,SAAS,IAAI5B,UAAU,CAAC6B,cAAc,CAAC7B,UAAU,CAACsB,kBAAkB,CAAC,GAAC,CAAC;IAClFtB,UAAU,CAAC8B,IAAI,CAACC,YAAY,EAAE;IAC9B,IAAI,CAACC,UAAU,EAAE;IACjB9B,SAAS,CAAC+B,SAAS,CAAC,IAAI,GAACjC,UAAU,CAAC6B,cAAc,CAAC7B,UAAU,CAACsB,kBAAkB,CAAC,GAAC,CAAC,GAAC,IAAI,CAAC;EAC7F,CAAC;EACDY,OAAO,WAAAA,QAACC,KAAK,EAAC;IACVjC,SAAS,CAACkC,qBAAqB,CAAC,CAAC,CAAC;IAClC,IAAIC,MAAM,GAAGF,KAAK,CAACG,MAAM;IACzB,IAAG,IAAI,CAAC9B,QAAQ,IAAI6B,MAAM,EAAC;MACvB,IAAI,CAACL,UAAU,EAAE;IACrB,CAAC,MAAK,IAAG,IAAI,CAACpB,QAAQ,IAAIyB,MAAM,EAAC;MAC7BrC,UAAU,CAACuC,cAAc,GAAG,IAAI;MAChCrC,SAAS,CAACsC,YAAY,EAAE;MACxBxC,UAAU,CAACyC,SAAS,GAAI,IAAIC,IAAI,EAAE,CAAEC,OAAO,EAAE;IACjD;EACJ,CAAC;EAEDX,UAAU,WAAAA,WAAA,EAAE;IACR,IAAI,CAACY,IAAI,CAACC,OAAO,EAAE;EACvB,CAAC,CACD;AACJ,CAAC,CAAC","sourceRoot":"/","sourcesContent":["var GameConfig = require(\"GameConfig\");\nvar GameTools = require(\"GameTools\");\nvar GameUiTools = require(\"GameUiTools\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        colsebtn:{\n            default:null,\n            type:cc.Node,\n            displayName:\"关闭按钮\"\n        },\n        clickbtn:{\n            default:null,\n            type:cc.Node,\n            displayName:\"确定按钮\"\n        },\n        persion:{\n            default:null,\n            type:cc.Sprite,\n            displayName:\"人物\"\n        },\n        persionName:{\n            default:null,\n            type:cc.Label,\n            displayName:\"人物名称\"\n        },\n        tip:{\n            default:null,\n            type:cc.Node,\n            displayName:\"提示字\"\n        }\n\n    },\n\n    start () {\n        GameUiTools.setButtonClickEvents(this, this.colsebtn, \"btnFunc\");\n        GameUiTools.setButtonClickEvents(this, this.clickbtn, \"btnFunc\");\n    },\n    onLoad () {\n        GameUiTools.setSpriteFrame(\"persion/LV\" + GameConfig.GamePersonMaxLevel, this.persion);\n        this.persionName.string = GameConfig.perName[GameConfig.GamePersonMaxLevel-1];\n        if(!GameConfig.IS_GAME_SHARE){\n            this.tip.active = false;\n        }\n    },\n\n    shareSuccess(){\n        GameConfig.GameMoney += GameConfig.buyGoldUpgrade[GameConfig.GamePersonMaxLevel]*2;\n        GameConfig.main.setGameMoney();\n        this.colsePanel();\n        GameTools.showToast('获得'+GameConfig.buyGoldUpgrade[GameConfig.GamePersonMaxLevel]*2+'铜钱');\n    },\n    btnFunc(event){\n        GameTools.playSimpleAudioEngine(3);\n        let button = event.target;\n        if(this.colsebtn == button){\n            this.colsePanel();\n        }else if(this.clickbtn == button){\n            GameConfig.shareComponent = this;\n            GameTools.sharePicture();\n            GameConfig.shareTime = (new Date()).getTime();\n        }\n    },\n\n    colsePanel(){\n        this.node.destroy();\n    },\n    // update (dt) {},\n});\n"]}