{"version":3,"sources":["assets\\Script\\panel\\ShopPanel.js"],"names":["GameConfig","require","GameTools","GameUiTools","cc","Class","Component","properties","closebtn","type","Node","displayName","shopItemPrefab","Prefab","showContent","moneyLabel","Label","onLoad","_this","setMoney","init","i","schedule","start","setButtonClickEvents","count","shopItem","instantiate","getComponent","initItem","addChild","closePanel","playSimpleAudioEngine","node","destroy","buttonFunc","event","button","target","string","getNumberString","GameMoney","update","dt"],"mappings":";;;;;;AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,YAAY,CAAC;AACtC,IAAIC,SAAS,GAAGD,OAAO,CAAC,WAAW,CAAC;AACpC,IAAIE,WAAW,GAAGF,OAAO,CAAC,aAAa,CAAC;AAExCG,EAAE,CAACC,KAAK,CAAC;EACL,WAASD,EAAE,CAACE,SAAS;EAErBC,UAAU,EAAE;IACRC,QAAQ,EAAC;MACL,WAAQ,IAAI;MACZC,IAAI,EAACL,EAAE,CAACM,IAAI;MACZC,WAAW,EAAC;IAChB,CAAC;IACDC,cAAc,EAAC;MACX,WAAQ,IAAI;MACZH,IAAI,EAACL,EAAE,CAACS,MAAM;MACdF,WAAW,EAAC;IAChB,CAAC;IACDG,WAAW,EAAC;MACR,WAAQ,IAAI;MACZL,IAAI,EAACL,EAAE,CAACM,IAAI;MACZC,WAAW,EAAC;IAChB,CAAC;IACDI,UAAU,EAAC;MACP,WAAQ,IAAI;MACZN,IAAI,EAACL,EAAE,CAACY,KAAK;MACbL,WAAW,EAAC;IAChB;EACJ,CAAC;EAGDM,MAAM,WAAAA,OAAA,EAAI;IAAA,IAAAC,KAAA;IACN,IAAI,CAACC,QAAQ,EAAE;IACf,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC;IACZ,IAAIC,CAAC,GAAC,CAAC;IACP,IAAI,CAACC,QAAQ,CAAC,YAAI;MACdJ,KAAI,CAACE,IAAI,CAACC,CAAC,EAAE,CAAC;IAClB,CAAC,EAAC,GAAG,EAAC,CAAC,EAAC,GAAG,CAAC;EAChB,CAAC;EAEDE,KAAK,WAAAA,MAAA,EAAI;IACLpB,WAAW,CAACqB,oBAAoB,CAAC,IAAI,EAAC,IAAI,CAAChB,QAAQ,EAAC,YAAY,CAAC;EACrE,CAAC;EACDY,IAAI,WAAAA,KAACK,KAAK,EAAC;IACP,KAAI,IAAIJ,CAAC,GAACI,KAAK,GAAC,CAAC,EAACJ,CAAC,GAACI,KAAK,GAAC,CAAC,GAAC,CAAC,EAACJ,CAAC,EAAE,EAAC;MAC9B,IAAIK,QAAQ,GAAGtB,EAAE,CAACuB,WAAW,CAAC,IAAI,CAACf,cAAc,CAAC;MAClDc,QAAQ,CAACE,YAAY,CAAC,cAAc,CAAC,CAACC,QAAQ,CAACR,CAAC,GAAC,CAAC,CAAC;MACnD,IAAI,CAACP,WAAW,CAACgB,QAAQ,CAACJ,QAAQ,EAACL,CAAC,EAAC,UAAU,CAAC;IAEpD;EACJ,CAAC;EACDU,UAAU,WAAAA,WAAA,EAAE;IACR7B,SAAS,CAAC8B,qBAAqB,CAAC,CAAC,CAAC;IAClC,IAAI,CAACC,IAAI,CAACC,OAAO,EAAE;EACvB,CAAC;EAEDC,UAAU,WAAAA,WAACC,KAAK,EAAC;IACb,IAAIC,MAAM,GAAGD,KAAK,CAACE,MAAM;IACzB,IAAG,IAAI,CAAC9B,QAAQ,IAAI6B,MAAM,EAAC;MACvB,IAAI,CAACN,UAAU,EAAE;IACrB;EACJ,CAAC;EACDZ,QAAQ,WAAAA,SAAA,EAAE;IACN,IAAI,CAACJ,UAAU,CAACwB,MAAM,GAAGrC,SAAS,CAACsC,eAAe,CAACxC,UAAU,CAACyC,SAAS,CAAC;EAC5E,CAAC;EACDC,MAAM,WAAAA,OAAEC,EAAE,EAAE;IACR,IAAI,CAACxB,QAAQ,EAAE;EACnB;AACJ,CAAC,CAAC","sourceRoot":"/","sourcesContent":["var GameConfig = require(\"GameConfig\");\nvar GameTools = require(\"GameTools\");\nvar GameUiTools = require(\"GameUiTools\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        closebtn:{\n            default:null,\n            type:cc.Node,\n            displayName:\"关闭按钮\"\n        },\n        shopItemPrefab:{\n            default:null,\n            type:cc.Prefab,\n            displayName:\"商品节点\"\n        },\n        showContent:{\n            default:null,\n            type:cc.Node,\n            displayName:\"显示商品内容\"\n        },\n        moneyLabel:{\n            default:null,\n            type:cc.Label,\n            displayName:\"金钱\"\n        }\n    },\n    \n\n    onLoad () {\n        this.setMoney();\n        this.init(0);\n        let i=1;\n        this.schedule(()=>{\n            this.init(i++);\n        },0.5,5,0.5)\n    },\n\n    start () {\n        GameUiTools.setButtonClickEvents(this,this.closebtn,\"buttonFunc\");\n    },\n    init(count){\n        for(let i=count*6;i<count*6+6;i++){\n            let shopItem = cc.instantiate(this.shopItemPrefab);\n            shopItem.getComponent('ShopItemList').initItem(i+1);\n            this.showContent.addChild(shopItem,i,\"shopItem\");\n\n        }\n    },\n    closePanel(){\n        GameTools.playSimpleAudioEngine(3);\n        this.node.destroy();\n    },\n\n    buttonFunc(event){\n        let button = event.target;\n        if(this.closebtn == button){\n            this.closePanel();\n        }\n    },\n    setMoney(){\n        this.moneyLabel.string = GameTools.getNumberString(GameConfig.GameMoney);\n    },\n    update (dt) {\n        this.setMoney();\n    },\n});\n"]}