{"version":3,"sources":["assets\\Script\\panel\\CblPanel.js"],"names":["GameConfig","require","cc","Class","Component","properties","cancelButton","Node","confirmButton","onLoad","start","window","cp","sys","platform","QQ_PLAY","IS_GAME_SHARE","active","buttonCancelFunc","event","node","destroy","buttonConfirmFunc","_this","BYTEDANCE_GAME","tt","navigateToScene","scene","success","res","console","log","coins","GameCoin","GameTools","setItemByLocalStorage","showToast","fail","complete"],"mappings":";;;;;;AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,YAAY,CAAC;AACtCC,EAAE,CAACC,KAAK,CAAC;EACL,WAASD,EAAE,CAACE,SAAS;EACrBC,UAAU,EAAE;IACRC,YAAY,EAAEJ,EAAE,CAACK,IAAI;IAAE;IACvBC,aAAa,EAAEN,EAAE,CAACK,IAAI,CAAE;EAC5B,CAAC;EACDE,MAAM,WAAAA,OAAA,EAAG,CACT,CAAC;EACDC,KAAK,WAAAA,MAAA,EAAG;IACJC,MAAM,CAACC,EAAE,GAAG,IAAI;IAChB,IAAGV,EAAE,CAACW,GAAG,CAACC,QAAQ,KAAKZ,EAAE,CAACW,GAAG,CAACE,OAAO,EAAC,CACtC,CAAC,MAAI;MACD,IAAG,CAACf,UAAU,CAACgB,aAAa,EAAC;QACzB,IAAI,CAACV,YAAY,CAACW,MAAM,GAAG,KAAK;MACpC;IACJ;EACJ,CAAC;EAEDC,gBAAgB,EAAE,SAAAA,iBAAUC,KAAK,EAAE;IAC/B,IAAI,CAACC,IAAI,CAACC,OAAO,EAAE;EACvB,CAAC;EAEDC,iBAAiB,EAAE,SAAAA,kBAAUH,KAAK,EAAE;IAAA,IAAAI,KAAA;IAChC,IAAIrB,EAAE,CAACW,GAAG,CAACC,QAAQ,KAAKZ,EAAE,CAACW,GAAG,CAACW,cAAc,EAAC;MAC1CC,EAAE,CAACC,eAAe,CAAC;QACfC,KAAK,EAAE,SAAS;QAChBC,OAAO,EAAE,SAAAA,QAACC,GAAG,EAAK;UACdC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;UACxC;UACA,IAAIC,KAAK,GAAG,CAAC,GAAG,CAAC;UACjBF,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE/B,UAAU,CAACiC,QAAQ,CAAG;UAC3CjC,UAAU,CAACiC,QAAQ,IAAID,KAAK,CAAC,CAAC,CAAC;UAC/BE,SAAS,CAACC,qBAAqB,CAAC,UAAU,EAACnC,UAAU,CAACiC,QAAQ,CAAC;UAC/DH,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE/B,UAAU,CAACiC,QAAQ,CAAG;UAC3CC,SAAS,CAACE,SAAS,CAAC,OAAO,GAAGJ,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3C,CAAC;QACDK,IAAI,EAAE,SAAAA,KAACR,GAAG,EAAK;UACXC,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEF,GAAG,CAAC;UAC5C;QACJ,CAAC;;QACDS,QAAQ,EAAE,SAAAA,SAACT,GAAG,EAAK;UACfN,KAAI,CAACH,IAAI,CAACC,OAAO,EAAE;QACvB;MACJ,CAAC,CAAC;IACN;EACJ;AAGJ,CAAC,CAAC","sourceRoot":"/","sourcesContent":["var GameConfig = require(\"GameConfig\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        cancelButton: cc.Node, //分享按钮\r\n        confirmButton: cc.Node, //分享按钮\r\n    },\r\n    onLoad() {\r\n    },\r\n    start() {\r\n        window.cp = this;\r\n        if(cc.sys.platform === cc.sys.QQ_PLAY){\r\n        }else{\r\n            if(!GameConfig.IS_GAME_SHARE){\r\n                this.cancelButton.active = false;\r\n            }\r\n        } \r\n    },\r\n\r\n    buttonCancelFunc: function (event) {\r\n        this.node.destroy();\r\n    },\r\n\r\n    buttonConfirmFunc: function (event) {\r\n        if (cc.sys.platform === cc.sys.BYTEDANCE_GAME){\r\n            tt.navigateToScene({\r\n                scene: \"sidebar\",\r\n                success: (res) => {\r\n                    console.log(\"navigate to scene success\");\r\n                    // 跳转成功回调逻辑\r\n                    let coins = [100];\r\n                    console.log(\"元宝变更前\", GameConfig.GameCoin  )\r\n                    GameConfig.GameCoin += coins[0];\r\n                    GameTools.setItemByLocalStorage(\"GameCoin\",GameConfig.GameCoin);\r\n                    console.log(\"元宝变更后\", GameConfig.GameCoin  )\r\n                    GameTools.showToast(\"获得元宝+\" + coins[0]);\r\n                },\r\n                fail: (res) => {\r\n                    console.log(\"navigate to scene fail: \", res);\r\n                    // 跳转失败回调逻辑\r\n                },\r\n                complete: (res) => {\r\n                    this.node.destroy();\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n\r\n});\r\n"]}