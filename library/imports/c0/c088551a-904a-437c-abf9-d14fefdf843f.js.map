{"version":3,"sources":["assets\\Script\\GameUiTools.js"],"names":["GameUiTools","setSpriteFrame","spriteName","sprite","cc","loader","loadRes","SpriteFrame","err","spriteFrame","node","setButtonClickEvents","component","menu","handler","customEventData","isScale","arrayMenu","Array","length","undefined","i","clickEventHandler","Component","EventHandler","target","name","button","addComponent","Button","clickEvents","push","transition","Transition","SCALE","duration","zoomScale","scheduleOnce","callFunc","delay","runAction","sequence","delayTime","loadingScene","sceneName","isShowLayer","prefab","instantiate","director","getScene","children","addChild","preloadScene","loadScene","loadingLayer","panelName","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\nvar GameUiTools = {\r\n    setSpriteFrame: function (spriteName, sprite) {\r\n        cc.loader.loadRes(spriteName, cc.SpriteFrame, (err, spriteFrame) => {\r\n            if (sprite.node != null) {\r\n                sprite.spriteFrame = spriteFrame;\r\n            }\r\n        });\r\n    },\r\n    setButtonClickEvents: function (component, menu, handler, customEventData, isScale) {\r\n        let arrayMenu = new Array();\r\n        if (menu.length == undefined) {\r\n            arrayMenu[0] = menu;\r\n\r\n        } else {\r\n            arrayMenu = menu;\r\n        }\r\n        for (let i = 0; i < arrayMenu.length; i++) {\r\n            let clickEventHandler = new cc.Component.EventHandler();\r\n            clickEventHandler.target = component.node; //这个 node 节点是你的事件处理代码组件所属的节点\r\n            clickEventHandler.component = component.node.name;//这个是代码文件名\r\n            clickEventHandler.handler = handler;\r\n            if (menu.length == undefined) {\r\n                clickEventHandler.customEventData = customEventData;\r\n            } else {\r\n                clickEventHandler.customEventData = i;\r\n            }\r\n            let button = arrayMenu[i].addComponent(cc.Button);\r\n            button.clickEvents.push(clickEventHandler);\r\n            if (isScale == undefined || isScale) {\r\n                button.transition = cc.Button.Transition.SCALE;\r\n                button.duration = 0.1;\r\n                button.zoomScale = 1.2;\r\n            }\r\n        }\r\n    },\r\n    scheduleOnce: function (node, callFunc, delay) {//事件调度\r\n        node.runAction(cc.sequence(cc.delayTime(delay), cc.callFunc(callFunc, node)));\r\n    },\r\n    loadingScene(sceneName, isShowLayer) {//加载场景\r\n        if (isShowLayer) {\r\n            cc.loader.loadRes(\"panel/LoadingLayer\", (err, prefab) => {\r\n                var node = cc.instantiate(prefab);\r\n                cc.director.getScene().children[0].addChild(node);\r\n                cc.director.preloadScene(sceneName, () => {\r\n                    cc.director.loadScene(sceneName);\r\n                });\r\n            });\r\n        } else {\r\n            cc.director.preloadScene(sceneName, () => {\r\n                cc.director.loadScene(sceneName);\r\n            });\r\n        }\r\n    },\r\n    loadingLayer(panelName) {//加载图层\r\n        cc.loader.loadRes(panelName, (err, prefab) => {\r\n            if (!err) {\r\n                let node = cc.instantiate(prefab);\r\n                cc.director.getScene().children[0].addChild(node);\r\n            }\r\n        });\r\n    }\r\n};\r\nmodule.exports = GameUiTools;"]}